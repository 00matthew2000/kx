###########################
# USA Events By esmaerla, edited by Von Laughing
###########################

add_NMBespace = USA_Avoid2ACW

country_event = { # Hoover's proposal
	id = USA_Avoid2ACW.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.1"}
	title = USA_Avoid2ACW.1.t
	desc = USA_Avoid2ACW.1.d
	picture = GFX_USA_jedgarhoover

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = USA_macarthur_coup }
	}

	option = {
		name = USA_Avoid2ACW.1.a #assassinate Long
		ai_chance = {
			factor = 60
			modifier = {
		    factor = 100
			  has_game_rule = {
					rule = USA_civil_war
					option = USA_CIVIL_WAR_AVOIDED
				}
			}
		}
		country_event = { id = USA_Avoid2ACW.2 days = 3 }
	}
	option = {
		name = USA_Avoid2ACW.1.b #don't do it
		ai_chance = {
			factor = 40
		}
		set_country_flag = USA_ACW_compromise_rejected
		custom_effect_tooltip = USA_AFP_gains_strength2
		hidden_effect = {
			add_to_variable = { var = AFP_strength value = 2 }
			country_event = { id = amcivwar.130 days = 1 }
		}
	}
}

country_event = { # Assassination attempt on Huey Long!
	id = USA_Avoid2ACW.2
	title = USA_Avoid2ACW.2.t
	desc = USA_Avoid2ACW.2.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = USA_Avoid2ACW.2.a
		ai_chance = {
			factor = 50
		}
		set_country_flag = USA_ACW_compromise_rejected
		custom_effect_tooltip = USA_AFP_gains_strength2
		hidden_effect = {
			add_to_variable = { var = AFP_strength value = 2 }
			country_event = { id = amcivwar.130 days = 1 }
		}
	}
	
	option = {
		name = USA_Avoid2ACW.2.b
		ai_chance = {
			factor = 50
			modifier = {
		    factor = 100
			  has_game_rule = {
					rule = USA_civil_war
					option = USA_CIVIL_WAR_AVOIDED
				}
			}
		}
		country_event = { id = USA_Avoid2ACW.3 days = 3	}
	}
}


country_event = { # Huey Long is dead!
	id = USA_Avoid2ACW.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.4"}
	title = USA_Avoid2ACW.3.t
	desc = USA_Avoid2ACW.3.d
	picture = GFX_report_event_usa_funeral

	is_triggered_only = yes

	option = {
		name = USA_Avoid2ACW.3.a
		hidden_effect = {
			country_event = {
				id = USA_Avoid2ACW.4
				days = 5
			}
			set_country_flag = Huey_Long_dead
			create_country_leader = {
				name = "Gerald L. K. Smith"
				desc = "POLITICS_GERALD_L_K_SMITH"
				picture = "gfx/leaders/TEX/Portrait_TEX_gearld_k_smith.tga"
				expire = "1965.1.1"
				ideology = national_populist_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Gerald L. K. Smith"
				desc = "POLITICS_GERALD_L_K_SMITH"
				picture = "gfx/leaders/TEX/Portrait_TEX_gearld_k_smith.tga"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Gerald L. K. Smith"
				desc = "POLITICS_GERALD_L_K_SMITH"
				picture = "gfx/leaders/TEX/Portrait_TEX_gearld_k_smith.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
				traits = {}
			}
		}
	}
}

country_event = { # Peace at last!
	id = USA_Avoid2ACW.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.4"}
	title = USA_Avoid2ACW.4.t
	desc = USA_Avoid2ACW.4.d
	picture = GFX_Curtis_Recovers

	is_triggered_only = yes

	option = {	
		name = USA_Avoid2ACW.4.a
		set_global_flag = USA_civil_war_avoided_flag
		hidden_effect = {
			random_other_country = {
				limit = { is_ai = yes }
				news_event = { id = USA_Avoid2ACW.5 days = 1 }
			}
			create_country_leader = {
				name = "Charles Curtis"
				desc = "POLITICS_CHARLES_CURTIS_DESC"
				picture = "Portrait_USA_Charles_Curtis_Hat.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
				traits = { the_great_compromiser savior_of_america }
			}
		}
	}
}

news_event = {
	id = USA_Avoid2ACW.5 #Stability in the US - World News
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.5"}
	title = USA_Avoid2ACW.5.t
	desc = USA_Avoid2ACW.5.d
	picture = GFX_news_event_SPR_victory
	
	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}
	
	show_major = {
		NOT = {
			tag = USA
		}
		OR = {
			regional_north_america_news = yes
			regional_south_america_news = yes
			regional_europe_news = yes
		}
	}
	
	option = {
		name = USA_Avoid2ACW.5.a
	}
}

country_event = { # 20th Amendment
	id = USA_Avoid2ACW.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.6"}
	title = USA_Avoid2ACW.6.t
	desc = USA_Avoid2ACW.6.d
	picture = congress

	is_triggered_only = yes

	option = { # Passed
		name = USA_Avoid2ACW.6.a
		add_political_power = -200
		increase_ruling_party_popularity_by_5 = yes
	}
	option = { # Fails to be ratified
		name = USA_Avoid2ACW.6.b
		add_political_power = 100
	}
}

country_event = {
	id = USA_Avoid2ACW.7 #Olson Economic Policy
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.7"}
	title = USA_Avoid2ACW.7.t
	desc = USA_Avoid2ACW.7.d
	picture = congress

	is_triggered_only = yes

	option = { # Passed
		name = USA_Avoid2ACW.7.a
		add_political_power = 20
	}
}

country_event = {
	id = USA_Avoid2ACW.8 #Olson Foreign Policy
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.8"}
	title = USA_Avoid2ACW.8.t
	desc = USA_Avoid2ACW.8.d
	picture = congress

	is_triggered_only = yes

	option = { # Passed
		name = USA_Avoid2ACW.8.a
		add_political_power = 20
		if = {
			limit = { GUA = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = GUA relation = guarantee active = no }
		}
		if = {
			limit = { ELS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = ELS relation = guarantee active = no }
		}
		if = {
			limit = { HON = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HON relation = guarantee active = no }
		}
		if = {
			limit = { COS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = COS relation = guarantee active = no }
		}
		if = {
			limit = { "PAN" = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = "PAN" relation = guarantee active = no }
		}
		if = {
			limit = { LEC = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = LEC relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HAI relation = guarantee active = no }
		}
		if = {
			limit = { DOM = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = DOM relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { gives_military_access_to = USA } }
			diplomatic_relation = { country = HAI relation = military_access active = no }
		}
		if = {
			limit = { DOM = { gives_military_access_to = USA } }
			diplomatic_relation = { country = DOM relation = military_access active = no }
		}
		every_country = {
			limit = { has_idea = CEN_monroe_doctrine }
			remove_ideas = CEN_monroe_doctrine
		}
		NIC = {
			set_country_flag = NIC_ready_to_move
		}

		hidden_effect = {
			random_other_country = {
				limit = { is_ai = yes }
				news_event = { id = USA_Avoid2ACW.9 days = 1 }
			}
			LEC = {
				country_event = { id = lecyankded.12 days = 4 }
			}
		}
	}
}

news_event = {
	id = USA_Avoid2ACW.9 #Olson Foreign Policy - World News
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.9"}
	title = USA_Avoid2ACW.9.t
	desc = USA_Avoid2ACW.9.d
	picture = news_event_USA_Floyd_B_Olson

	major = yes

	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}
	
	show_major = {
		NOT = {
			tag = USA
		}
		OR = {
			regional_north_america_news = yes
			regional_south_america_news = yes
			regional_europe_news = yes
		}
	}
	
	option = {
		name = USA_Avoid2ACW.9.a
	}
}

country_event = { # Fireside Chats
	id = USA_Avoid2ACW.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.10"}
	title = USA_Avoid2ACW.10.t
	desc = USA_Avoid2ACW.10.d
	picture = USA_fireside_chats

	fire_only_once = yes

	trigger = {
		tag = USA
		has_global_flag = USA_civil_war_avoided_flag
	}

	mean_time_to_happen = {
		months = 12
	}

	option = { # reassure the Nation
		name = USA_Avoid2ACW.10.a
		add_stability = 0.05
	}
}

country_event = { # MacArthur writes An American Caesar
	id = USA_Avoid2ACW.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.11"}
	title = USA_Avoid2ACW.11.t
	desc = USA_Avoid2ACW.11.d
	picture = books

	fire_only_once = yes

	trigger = {
		tag = USA
		has_global_flag = USA_civil_war_avoided_flag
		has_country_leader = {
			name = "Douglas MacArthur"
			ruling_only = yes
		}
		has_country_flag = USA_had_1940_election
	}

	mean_time_to_happen = {
		months = 3
	}

	option = { # Flavor
		name = USA_Avoid2ACW.11.a
		add_political_power = 20
	}
}

country_event = { # Assassins miss MacArthur
	id = USA_Avoid2ACW.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.12"}
	title = USA_Avoid2ACW.12.t
	desc = USA_Avoid2ACW.12.d
	picture = GFX_USA_Riots

	fire_only_once = yes

	trigger = {
		tag = USA
		has_global_flag = USA_civil_war_avoided_flag
		has_country_leader = {
			name = "Douglas MacArthur"
			ruling_only = yes
		}
		has_country_flag = USA_had_1940_election
	}

	mean_time_to_happen = {
		months = 4
	}

	option = { # Flavor
		name = USA_Avoid2ACW.12.a
		add_political_power = 20
	}
}

country_event = { # Byrd Rails Against National Highway
	id = USA_Avoid2ACW.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event USA_Avoid2ACW.13"}
	title = USA_Avoid2ACW.13.t
	desc = USA_Avoid2ACW.13.d
	picture = nationalisation1

	fire_only_once = yes

	trigger = {
		tag = USA
		has_country_leader = {
			name = "Harry F. Byrd"
			ruling_only = yes
		}
		has_country_flag = USA_had_1940_election
		has_global_flag = USA_civil_war_avoided_flag
	}

	mean_time_to_happen = {
		months = 24
	}

	option = { # Flavor
		name = USA_Avoid2ACW.13.a
	}
}